<h2>Editar usuarios</h2>

<div class="container">
  <form [formGroup]="buscadorUsuario" (ngSubmit)="buscador(buscadorUsuario.value)">

    <td><mat-form-field>
      <mat-label>Buscar por id</mat-label>
      <input matInput placeholder="Ex. 65cc47882b95345c3e267e2d" id="idUsuario" formControlName="idUsuario" required>
    </mat-form-field></td>
    
    <button mat-raised-button color="primary" type="submit" [disabled]="buscadorUsuario.invalid">Buscar</button>

  </form>
</div>

@if(resultadoBusqueda){
  <div class="container">  
    <mat-card class="example-card-search">
      <mat-card-header>
        <mat-card-title class="custom-content">{{ resultadoBusqueda.nombre}}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p class="custom-content"> {{ resultadoBusqueda.fecha_nacimiento}}</p>
        <p class="custom-content"> {{ resultadoBusqueda.email}}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button class="botones" (click)="dialogoActualiza(resultadoBusqueda.id)">Actualizar</button>
        <button mat-raised-button class="botones" (click)="dialogoBorra(resultadoBusqueda)">Eliminar</button>
    </mat-card-actions>
    </mat-card>
  </div>
}
@if(resultadoBusqueda == false){
  <div class="container">  
    <mat-card class="example-card-search">
      <mat-card-header>
        <mat-card-title class="custom-content">No se encontraron resultados.</mat-card-title>
      </mat-card-header>
    </mat-card>
  </div>
}

<div class="container-cards">
    @for(item of usuarios; track item){
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title>{{ item.nombre}}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p> {{ item.fecha_nacimiento}}</p>
          <p> {{ item.email}}</p>
        </mat-card-content>
        <mat-card-actions>
            <button mat-raised-button color="primary" class="botones" (click)="dialogoActualiza(item.id)">Actualizar</button>
            <button mat-raised-button color="primary" class="botones" (click)="dialogoBorra(item)">Eliminar</button>
        </mat-card-actions>
      </mat-card>
    }  
  </div>